--- gtfs-fusion.html
+++ gtfs-fusion.html
@@ -1220,16 +1220,17 @@
   
   // Large file: use worker with transferable
   console.log(\`[Parse] \${fileName}: Using worker mode (\${(fileSize / 1024 / 1024).toFixed(1)} MB)\`);
   
-  const buffer = new TextEncoder().encode(fileText);
+  const encoder = new TextEncoder();
+  const encoded = encoder.encode(fileText);
   const pool = getWorkerPool();
   
   try {
     const result = await pool.execute({
-      buffer: buffer.buffer,
+      buffer: encoded.buffer,
       fileType: fileType
     });
     
     console.log(\`[Parse] \${fileName}: Parsed \${result.length.toLocaleString()} records\`);
     return result;
   } catch (error) {
